
# Режимы работы устройства

Каждому режиму соответствует однозначное отображение на индикаторе и
действия кнопок.

## Именование режимов

Режим маркируется маленькими буквами, в качестве разделителя
используется подчеркивание.  В программе режимы являются перечислением
(enum).

Отображаемое на экране значение показано в квадратных скобках.
Числовые значения показываются знаком $, положение точки отображается
знаком ".".

Наименования пунктов меню приведены в круглых скобках.

Наименования регистров приведены в фигурных скобках

Для режимов первым пунктом указанные в квадратных скобках знаки "M",
"+" и "-" означают нажатия соответствующих клавиш.

## Регистры

Маркировка:
- i :: входные регистры
- e :: выходные регистры
- v :: переменные

- {v_mode} :: текущий режим работы устройства
- {i_frq_end} :: значение на входе с учетом предделителя

## Режимы

- m :: основной режим
  - m_lvl
    - m_lvl_perc :: уровень в процентах
    - m_lvl_unit :: уровень в единицах
  - m_exch :: оборот воды
    - m_exch_perc
	- m_exch_unit
- c :: настройка
  - c_frq :: (Частоты) [ frq]
    - c_frq_empty :: (Пустой бак) [empt]
      - c_frq_empty_view :: [$$$$]
      - c_frq_empty_manual :: [$$$$] {}
      - c_frq_empty_auto :: [$$$$] отображает текущую частоту на входе
        - [M] :: записывает текущую частоту в {}, {v_mode}=c_frq_empty
    - c_frq_d :: (Дельта для частоты)
	  - c_frq_manual
      - c_frq_thousand :: установить как 1/1000 разности частот
	- c_frq_pscale :: предделитель
	- c_frq_thres :: порог чувствительности (100 Гц)
  - c_unit :: (Единицы)
    - c_unit_perc :: множитель перевода процентов в единицы
	- c_unit_displ :: смещение 0 в процентах (может быть задано в
      единицах)
  - c_exit :: управление выходом
    - c_exit_allow :: разрешить управление выходом
	- c_exit_auto :: разрешить автоматическое управление выходом
	- c_exit_upper :: верхний уровень
	- c_exit_lower
	- c_exit_lost :: действия при потере сигнала
  - c_sig :: настройка сигнализации
    - c_sig_info :: наличие информационных сигналов
	- с_sig_alarm
	  - c_sig_alarm_empty :: сигнал при опустошении бака
	  - c_sig_alarm_full
	  - c_sig_lost :: сигнал при потере датчика частоты
- t :: тестирование
  - t_screen :: тестирование индикатора
  - t_exit
  - t_input
  - t_buttons
  - t_voltage
  - t_alarm
    - t_alarm_info
    - t_alarm_warning
- e :: энергосбережение
- i :: инициализация
